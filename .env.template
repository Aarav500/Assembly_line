# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_NAME=unified_app
DB_USER=postgres
DB_PASSWORD=ChangeMeToSecurePassword123!
DATABASE_URL=postgresql://postgres:ChangeMeToSecurePassword123!@db:5432/unified_app

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=

# ===========================================
# APPLICATION SECRETS
# ===========================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET_KEY
JWT_SECRET_KEY=CHANGE_ME_TO_RANDOM_JWT_SECRET

# ===========================================
# INTERNAL SERVICE URLS
# ===========================================
BACKEND_URL=http://backend:5000
FRONTEND_URL=http://frontend:3000
INFRASTRUCTURE_URL=http://infrastructure:8080

# ===========================================
# EXTERNAL ACCESS URLS (for health checks)
# ===========================================
PUBLIC_BACKEND_URL=http://your-server-ip:5000
PUBLIC_FRONTEND_URL=http://your-server-ip:3000
PUBLIC_INFRASTRUCTURE_URL=http://your-server-ip:8080

# ===========================================
# FILE STORAGE (Start with local, upgrade to S3)
# ===========================================
STORAGE_BACKEND=local
# When using S3/Backblaze:
# STORAGE_BACKEND=s3
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# S3_BUCKET_NAME=unified-app-storage
# S3_REGION=us-east-1
# S3_ENDPOINT_URL=https://s3.us-west-000.backblazeb2.com  # For Backblaze

# ===========================================
# EMAIL SERVICE (Optional)
# ===========================================
# SENDGRID_API_KEY=your_sendgrid_api_key
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# EMAIL_FROM=noreply@yourdomain.com

# ===========================================
# MONITORING & LOGGING
# ===========================================
LOG_LEVEL=INFO
SENTRY_DSN=
ENABLE_PROMETHEUS=true
ENABLE_GRAFANA=false

# ===========================================
# ENVIRONMENT & DEBUG
# ===========================================
ENVIRONMENT=production
DEBUG=false
TESTING=false

# ===========================================
# API RATE LIMITING
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ===========================================
# SECURITY
# ===========================================
CORS_ORIGINS=http://localhost:3000,http://your-server-ip:3000
ALLOWED_HOSTS=localhost,your-server-ip,yourdomain.com
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ===========================================
# CELERY (Background Tasks)
# ===========================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ===========================================
# SMART VENV CONFIGURATION
# ===========================================
USE_SMART_VENV=true
AUTO_CREATE_VENV=true
MAX_VENVS_PER_SERVICE=10

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30